<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"/>
<body>
<div class="container my-4">
  <h1>Admin Panel</h1>
  <ul class="nav nav-tabs" id="adminTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="candidates-tab" data-bs-toggle="tab" data-bs-target="#candidates" type="button" role="tab">Candidates</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="elections-tab" data-bs-toggle="tab" data-bs-target="#elections" type="button" role="tab">Elections</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="citizens-tab" data-bs-toggle="tab" data-bs-target="#citizens" type="button" role="tab">Citizens</button>
    </li>
  </ul>
  <div class="tab-content" id="adminTabContent">
    <div class="tab-pane fade show active" id="candidates" role="tabpanel">
      <table class="table mt-3">
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Last Name</th>
          <th>Party</th>
          <th>Election</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="candidate : ${candidates}">
          <td th:text="${candidate.id}"></td>
          <td th:text="${candidate.name}"></td>
          <td th:text="${candidate.lastName}"></td>
          <td th:text="${candidate.party}"></td>
          <td th:text="${candidate.election.getName()}"></td>
          <td>
            <form th:action="@{/admin/edit/candidate}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-primary">Edit</button>
            </form>
            <form th:action="@{/admin/delete/candidate/{id}(id=${candidate.id})}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="tab-pane fade" id="elections" role="tabpanel">
      <table class="table mt-3">
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="election : ${elections}">
          <td th:text="${election.id}"></td>
          <td th:text="${election.name}"></td>
          <td th:text="${#dates.format(election.startDate, 'yyyy-MM-dd')}"></td>
          <td th:text="${#dates.format(election.endDate, 'yyyy-MM-dd')}"></td>
          <td>
            <form th:action="@{/admin/edit/election}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-primary">Edit</button>
            </form>
            <form th:action="@{/admin/delete/election/{id}(id=${election.id})}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="tab-pane fade" id="citizens" role="tabpanel">
      <table class="table mt-3">
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Last Name</th>
          <th>JMBG</th>
          <th>Phone Number</th>
          <th>Email</th>
          <th>Address</th>
          <th>City</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="citizen : ${citizens}">
          <td th:text="${citizen.id}"></td>
          <td th:text="${citizen.firstName}"></td>
          <td th:text="${citizen.lastName}"></td>
          <td th:text="${citizen.jmbg}"></td>
          <td th:text="${citizen.phoneNumber}"></td>
          <td th:text="${citizen.email}"></td>
          <td th:text="${citizen.address}"></td>
          <td th:text="${citizen.city}"></td>
          <td>
            <form th:action="@{/admin/edit/citizen}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-primary">Edit</button>
            </form>
            <form th:action="@{/admin/delete/citizen/{id}(id=${citizen.id})}" method="post" class="d-inline-block">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>